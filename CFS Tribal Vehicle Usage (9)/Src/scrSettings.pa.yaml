# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
#
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
#
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  scrSettings:
    Properties:
      Fill: =varTheme.Background
      LoadingSpinnerColor: =varTheme.Primary
    Children:
      # ── Header ──
      - cmpHeader_Settings:
          Control: CanvasComponent
          ComponentName: cmpHeader
          Properties:
            Height: =varSize.HeaderH
            ShowBackBtn: =false
            SubTitle: =varUserDisplayName
            Title: ="More"
            Width: =App.Width
      # ── Bottom Navigation ──
      - cmpBottomNav_Settings:
          Control: CanvasComponent
          ComponentName: cmpBottomNav
          Properties:
            ActiveKey: ="More"
            Height: =varSize.NavH
            Width: =App.Width
            Y: =Parent.Height - Self.Height
      # ── Scrollable Content Area ──
      - cnrSettingsScroll:
          Control: GroupContainer@1.4.0
          Variant: AutoLayout
          Properties:
            Fill: =Color.Transparent
            Height: =Parent.Height - cmpHeader_Settings.Height - cmpBottomNav_Settings.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =16
            LayoutOverflowY: =LayoutOverflow.Scroll
            PaddingBottom: =24
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =20
            Width: =Parent.Width
            Y: =cmpHeader_Settings.Height
          Children:
            # ══════════════════════════════════════════════
            # USER PROFILE CARD
            # ══════════════════════════════════════════════
            - cnrUserProfile:
                Control: GroupContainer@1.4.0
                Variant: ManualLayout
                Properties:
                  Fill: =varTheme.Surface
                  FillPortions: =0
                  Height: =If(varUserHasProfile, 100, 132)
                  RadiusBottomLeft: =varSize.CardRadius
                  RadiusBottomRight: =varSize.CardRadius
                  RadiusTopLeft: =varSize.CardRadius
                  RadiusTopRight: =varSize.CardRadius
                  Width: =Parent.Width - 40
                Children:
                  # ── Person Icon Circle ──
                  - recUserAvatarBg:
                      Control: Rectangle@2.3.0
                      Properties:
                        Fill: =varTheme.PrimaryBg
                        Height: =48
                        RadiusBottomLeft: =24
                        RadiusBottomRight: =24
                        RadiusTopLeft: =24
                        RadiusTopRight: =24
                        Width: =48
                        X: =16
                        Y: =16
                  - icoUserAvatar:
                      Control: Icon@0.0.7
                      Properties:
                        Height: =24
                        Icon: ="Person"
                        IconColor: =varTheme.Primary
                        Width: =24
                        X: =28
                        Y: =28
                  # ── User Name (bold) ──
                  - lblProfileName:
                      Control: Label@2.5.1
                      Properties:
                        Color: =varTheme.TextPrimary
                        FontWeight: =FontWeight.Bold
                        Height: =24
                        Size: =16
                        Text: =varUserDisplayName
                        Width: =Parent.Width - 96
                        X: =76
                        Y: =14
                  # ── User Email ──
                  - lblProfileEmail:
                      Control: Label@2.5.1
                      Properties:
                        Color: =varTheme.TextSecondary
                        Height: =20
                        Size: =12
                        Text: =varUserEmail
                        Width: =Parent.Width - 96
                        X: =76
                        Y: =38
                  # ── User Location ──
                  - lblProfileLocation:
                      Control: Label@2.5.1
                      Properties:
                        Color: =varTheme.TextTertiary
                        Height: =18
                        Size: =11
                        Text: =varUserAssociate.Location
                        Visible: =varUserHasProfile
                        Width: =Parent.Width - 96
                        X: =76
                        Y: =60
                  # ── Profile Warning Banner ──
                  - recProfileWarningBg:
                      Control: Rectangle@2.3.0
                      Properties:
                        Fill: =varTheme.WarningLight
                        Height: =32
                        RadiusBottomLeft: =8
                        RadiusBottomRight: =8
                        RadiusTopLeft: =8
                        RadiusTopRight: =8
                        Visible: =!varUserHasProfile
                        Width: =Parent.Width - 32
                        X: =16
                        Y: =88
                  - icoProfileWarning:
                      Control: Icon@0.0.7
                      Properties:
                        Height: =16
                        Icon: ="Warning"
                        IconColor: =varStatusColors.Warning
                        Visible: =!varUserHasProfile
                        Width: =16
                        X: =26
                        Y: =96
                  - lblProfileWarning:
                      Control: Label@2.5.1
                      Properties:
                        Color: =RGBA(130, 100, 0, 1)
                        Height: =32
                        Size: =11
                        Text: ="Profile not found — some features may be limited."
                        Visible: =!varUserHasProfile
                        Width: =Parent.Width - 80
                        X: =48
                        Y: =88
            # ══════════════════════════════════════════════
            # QUICK LINKS SECTION
            # ══════════════════════════════════════════════
            - lblQuickLinksHeader:
                Control: Label@2.5.1
                Properties:
                  AlignInContainer: =AlignInContainer.Stretch
                  AutoHeight: =true
                  Color: =varTheme.TextSecondary
                  FillPortions: =0
                  FontWeight: =FontWeight.Semibold
                  Height: =22
                  Size: =13
                  Text: ="QUICK LINKS"
                  Width: =Parent.Width - 40
            - cnrQuickLinks:
                Control: GroupContainer@1.4.0
                Variant: AutoLayout
                Properties:
                  Fill: =varTheme.Surface
                  FillPortions: =0
                  Height: =280
                  LayoutDirection: =LayoutDirection.Vertical
                  RadiusBottomLeft: =varSize.CardRadius
                  RadiusBottomRight: =varSize.CardRadius
                  RadiusTopLeft: =varSize.CardRadius
                  RadiusTopRight: =varSize.CardRadius
                  Width: =Parent.Width - 40
                Children:
                  # ── My Reservations Link ──
                  - cnrLinkReservations:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        FillPortions: =1
                        Height: =56
                        Width: =Parent.Width
                      Children:
                        - icoLinkReservations:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =22
                              Icon: ="Calendar"
                              IconColor: =varTheme.Primary
                              Width: =22
                              X: =16
                              Y: =17
                        - lblLinkReservations:
                            Control: Label@2.5.1
                            Properties:
                              Color: =varTheme.TextPrimary
                              Height: =22
                              Size: =15
                              Text: ="My Reservations"
                              Width: =Parent.Width - 88
                              X: =50
                              Y: =17
                        - icoChevronReservations:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =16
                              Icon: ="ChevronRight"
                              IconColor: =varTheme.TextTertiary
                              Width: =16
                              X: =Parent.Width - 28
                              Y: =20
                        - btnLinkReservations:
                            Control: Button@0.0.45
                            Properties:
                              Appearance: ="Transparent"
                              BasePaletteColor: =Color.Transparent
                              FontColor: =Color.Transparent
                              Height: =Parent.Height
                              OnSelect: =Navigate(scrMyReservations, ScreenTransition.Fade)
                              Text: =""
                              Width: =Parent.Width
                  # ── Divider 1 ──
                  - recDivider1:
                      Control: Rectangle@2.3.0
                      Properties:
                        Fill: =varTheme.Divider
                        FillPortions: =0
                        Height: =1
                        Width: =Parent.Width - 32
                        X: =16
                  # ── Log Fuel Purchase Link ──
                  - cnrLinkFuel:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        FillPortions: =1
                        Height: =56
                        Width: =Parent.Width
                      Children:
                        - icoLinkFuel:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =22
                              Icon: ="Money"
                              IconColor: =varTheme.Accent
                              Width: =22
                              X: =16
                              Y: =17
                        - lblLinkFuel:
                            Control: Label@2.5.1
                            Properties:
                              Color: =varTheme.TextPrimary
                              Height: =22
                              Size: =15
                              Text: ="Log Fuel Purchase"
                              Width: =Parent.Width - 88
                              X: =50
                              Y: =17
                        - icoChevronFuel:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =16
                              Icon: ="ChevronRight"
                              IconColor: =varTheme.TextTertiary
                              Width: =16
                              X: =Parent.Width - 28
                              Y: =20
                        - btnLinkFuel:
                            Control: Button@0.0.45
                            Properties:
                              Appearance: ="Transparent"
                              BasePaletteColor: =Color.Transparent
                              FontColor: =Color.Transparent
                              Height: =Parent.Height
                              OnSelect: =Navigate(scrGasPurchase, ScreenTransition.Fade)
                              Text: =""
                              Width: =Parent.Width
                  # ── Divider 2 ──
                  - recDivider2:
                      Control: Rectangle@2.3.0
                      Properties:
                        Fill: =varTheme.Divider
                        FillPortions: =0
                        Height: =1
                        Width: =Parent.Width - 32
                        X: =16
                  # ── Fuel History Link ──
                  - cnrLinkFuelHistory:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        FillPortions: =1
                        Height: =56
                        Width: =Parent.Width
                      Children:
                        - icoLinkFuelHistory:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =22
                              Icon: ="TrendingHashtag"
                              IconColor: =varStatusColors.Available
                              Width: =22
                              X: =16
                              Y: =17
                        - lblLinkFuelHistory:
                            Control: Label@2.5.1
                            Properties:
                              Color: =varTheme.TextPrimary
                              Height: =22
                              Size: =15
                              Text: ="Fuel History"
                              Width: =Parent.Width - 88
                              X: =50
                              Y: =17
                        - icoChevronFuelHistory:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =16
                              Icon: ="ChevronRight"
                              IconColor: =varTheme.TextTertiary
                              Width: =16
                              X: =Parent.Width - 28
                              Y: =20
                        - btnLinkFuelHistory:
                            Control: Button@0.0.45
                            Properties:
                              Appearance: ="Transparent"
                              BasePaletteColor: =Color.Transparent
                              FontColor: =Color.Transparent
                              Height: =Parent.Height
                              OnSelect: =Navigate(scrFuelHistory, ScreenTransition.Fade)
                              Text: =""
                              Width: =Parent.Width
                  # ── Divider 3 ──
                  - recDivider3:
                      Control: Rectangle@2.3.0
                      Properties:
                        Fill: =varTheme.Divider
                        FillPortions: =0
                        Height: =1
                        Width: =Parent.Width - 32
                        X: =16
                  # ── All Vehicles Link ──
                  - cnrLinkVehicles:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        FillPortions: =1
                        Height: =56
                        Width: =Parent.Width
                      Children:
                        - icoLinkVehicles:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =22
                              Icon: ="Cars"
                              IconColor: =varStatusColors.CheckedOut
                              Width: =22
                              X: =16
                              Y: =17
                        - lblLinkVehicles:
                            Control: Label@2.5.1
                            Properties:
                              Color: =varTheme.TextPrimary
                              Height: =22
                              Size: =15
                              Text: ="All Vehicles"
                              Width: =Parent.Width - 88
                              X: =50
                              Y: =17
                        - icoChevronVehicles:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =16
                              Icon: ="ChevronRight"
                              IconColor: =varTheme.TextTertiary
                              Width: =16
                              X: =Parent.Width - 28
                              Y: =20
                        - btnLinkVehicles:
                            Control: Button@0.0.45
                            Properties:
                              Appearance: ="Transparent"
                              BasePaletteColor: =Color.Transparent
                              FontColor: =Color.Transparent
                              Height: =Parent.Height
                              OnSelect: |-
                                =Set(varFilterStatus, "All");
                                Navigate(scrVehicleList, ScreenTransition.Fade)
                              Text: =""
                              Width: =Parent.Width
                  # ── Divider 4 ──
                  - recDivider4:
                      Control: Rectangle@2.3.0
                      Properties:
                        Fill: =varTheme.Divider
                        FillPortions: =0
                        Height: =1
                        Width: =Parent.Width - 32
                        X: =16
                  # ── Report an Issue Link ──
                  - cnrLinkReport:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        FillPortions: =1
                        Height: =56
                        Width: =Parent.Width
                      Children:
                        - icoLinkReport:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =22
                              Icon: ="Warning"
                              IconColor: =varStatusColors.Warning
                              Width: =22
                              X: =16
                              Y: =17
                        - lblLinkReport:
                            Control: Label@2.5.1
                            Properties:
                              Color: =varTheme.TextPrimary
                              Height: =22
                              Size: =15
                              Text: ="Report an Issue"
                              Width: =Parent.Width - 88
                              X: =50
                              Y: =17
                        - icoChevronReport:
                            Control: Icon@0.0.7
                            Properties:
                              Height: =16
                              Icon: ="ChevronRight"
                              IconColor: =varTheme.TextTertiary
                              Width: =16
                              X: =Parent.Width - 28
                              Y: =20
                        - btnLinkReport:
                            Control: Button@0.0.45
                            Properties:
                              Appearance: ="Transparent"
                              BasePaletteColor: =Color.Transparent
                              FontColor: =Color.Transparent
                              Height: =Parent.Height
                              OnSelect: |-
                                =Set(varMaintVehicle, Blank());
                                Navigate(scrMaintenanceRequest, ScreenTransition.Fade)
                              Text: =""
                              Width: =Parent.Width
            # ══════════════════════════════════════════════
            # ABOUT SECTION
            # ══════════════════════════════════════════════
            - lblAboutHeader:
                Control: Label@2.5.1
                Properties:
                  AlignInContainer: =AlignInContainer.Stretch
                  AutoHeight: =true
                  Color: =varTheme.TextSecondary
                  FillPortions: =0
                  FontWeight: =FontWeight.Semibold
                  Height: =22
                  Size: =13
                  Text: ="ABOUT"
                  Width: =Parent.Width - 40
            - cnrAboutCard:
                Control: GroupContainer@1.4.0
                Variant: ManualLayout
                Properties:
                  Fill: =varTheme.Surface
                  FillPortions: =0
                  Height: =100
                  RadiusBottomLeft: =varSize.CardRadius
                  RadiusBottomRight: =varSize.CardRadius
                  RadiusTopLeft: =varSize.CardRadius
                  RadiusTopRight: =varSize.CardRadius
                  Width: =Parent.Width - 40
                Children:
                  - lblAboutAppName:
                      Control: Label@2.5.1
                      Properties:
                        Color: =varTheme.TextPrimary
                        FontWeight: =FontWeight.Semibold
                        Height: =24
                        Size: =15
                        Text: ="CFS Tribal Vehicle Usage"
                        Width: =Parent.Width - 32
                        X: =16
                        Y: =14
                  - lblAboutOrg:
                      Control: Label@2.5.1
                      Properties:
                        Color: =varTheme.TextSecondary
                        Height: =20
                        Size: =12
                        Text: ="Choctaw Nation EPS"
                        Width: =Parent.Width - 32
                        X: =16
                        Y: =40
                  - lblAboutVersion:
                      Control: Label@2.5.1
                      Properties:
                        Color: =varTheme.TextTertiary
                        Height: =20
                        Size: =12
                        Text: ="v3.0 — Mobile-First Rebuild"
                        Width: =Parent.Width - 32
                        X: =16
                        Y: =64
