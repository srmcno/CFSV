# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
App:
  Properties:
    OnStart: "=// Initialize user variables\r\n      Set(varCurrentUser, User());\r\n      Set(varUserEmail, User().Email);\r\n      Set(varUserDisplayName, User().FullName);\r\n      Set(\r\n    varUserAssociate,\r\n    LookUp(Associates, Associate = varUserDisplayName)\r\n);\r\n      Set(varToday, Today());\r\n      Set(varNow, Now());\r\n      \r\n      // Theme colors - Centralized for easy updates\r\n      Set(\r\n          varTheme,\r\n          {\r\n              Primary: RGBA(0, 120, 212, 1),\r\n              PrimaryDark: RGBA(0, 90, 158, 1),\r\n              PrimaryLight: RGBA(199, 224, 244, 1),\r\n              Success: RGBA(16, 124, 16, 1),\r\n              Warning: RGBA(255, 185, 0, 1),\r\n              Danger: RGBA(209, 52, 56, 1),\r\n              Background: RGBA(243, 242, 241, 1),\r\n              Surface: RGBA(255, 255, 255, 1),\r\n              TextPrimary: RGBA(50, 49, 48, 1),\r\n              TextSecondary: RGBA(96, 94, 92, 1),\r\n              TextOnPrimary: RGBA(255, 255, 255, 1),\r\n              Border: RGBA(237, 235, 233, 1)\r\n          }\r\n      );\r\n      \r\n      // Status colors - Mapped to Entity Status Reasons\r\n      Set(\r\n          varStatusColors,\r\n          {\r\n              Available: RGBA(16, 124, 16, 1),\r\n              CheckedOut: RGBA(209, 52, 56, 1),\r\n              Reserved: RGBA(255, 185, 0, 1),\r\n              Warning: RGBA(255, 185, 0, 1),\r\n              Maintenance: RGBA(138, 136, 134, 1),\r\n              Draft: RGBA(0, 120, 212, 1),\r\n              Submitted: RGBA(0, 120, 212, 1),\r\n              Approved: RGBA(16, 124, 16, 1),\r\n              Cancelled: RGBA(209, 52, 56, 1),\r\n              OutOfService: RGBA(168, 0, 0, 1)\r\n          }\r\n      );\r\n\r\n      // Navigation & selection state\r\nSet(varSelectedVehicle, Blank());\r\nSet(varFilterStatus, \"All\");\r\nSet(varIsNewReservation, false);\r\nSet(varIsSubmitting, false);\r\n\r\n// Reservation form state\r\nSet(varResStartDate, Today());\r\nSet(varResEndDate, Today());\r\nSet(varResPurpose, \"\");\r\nSet(varResVehicleSelected, Blank());\r\nSet(varResFilter, \"Upcoming\");\r\n\r\n// Gas form state\r\nSet(varGasAmount, 0);\r\nSet(varGasGallons, 0);\r\nSet(varGasOdometer, 0);\r\nSet(varGasDate, Today());\r\nSet(varGasCardLast4, \"\");\r\nSet(varGasVehicle, Blank());\r\nSet(varGasNotes, \"\");\r\n\r\nSet(varPatchResult, Blank());\r\nSet(varPatchResult, Blank());\r\nSet(varConfirmCancelRes, Blank());\r\n\r\n// Maintenance form state\r\nSet(varMaintVehicle, Blank());\r\nSet(varMaintDescription, \"\");\r\nSet(varMaintUrgency, \"Medium\");\r\nSet(varMaintOutOfService, false);\r\n\r\n// Fuel history state\r\nSet(varFuelHistoryFilter, \"Mine\");\r\n\r\n// Vehicle list location filter\r\nSet(varShowAllLocations, false);\r\n\r\n// Dashboard KPIs\r\nSet(varFuelSpendMonth, 0);\r\nSet(varActiveCheckouts, 0);\r\nSet(varOverdueReturns, 0);\r\nSet(varOpenMaintenance, 0);"
    Theme: =PowerAppsTheme
